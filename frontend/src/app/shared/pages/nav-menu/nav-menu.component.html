<div class="drawer">
  <input type="checkbox" id="menu-drawer" class="drawer-toggle" />
  <div class="drawer-content">
    <!-- Nav bar -->
    <div class="navbar bg-base-300 shadow-sm">
      <!-- Hamburger menu -->
      <div class="flex-none">
        <label for="menu-drawer" class="btn btn-square btn-ghost drawer-button">
          <ng-icon name="heroBars3"></ng-icon>
        </label>
      </div>
      <!-- Title -->
      <div class="flex-1">
        <span class="text-xl">{{ titleService.pageTitle() }}</span>
      </div>
      <!-- Profile icon dropdown -->
      @if (auth.user()) {
      <div class="flex-none dropdown dropdown-end">
        <div
          class="flex flex-row justify-center items-center rounded-full gap-2 bg-base-100 md:shadow-md md:p-2"
          tabindex="0"
          role="button"
        >
          <span class="text-sm hidden md:inline">{{ auth.userName() }}</span>
          @if ( auth.userPhotoURL() ) {
          <div class="avatar avatar-online">
            <div class="w-10 md:w-8 rounded-full">
              <img [src]="auth.userPhotoURL()" alt="" />
            </div>
          </div>

          } @else {

          <div class="avatar avatar-online avatar-placeholder">
            <div class="bg-base-100 md:bg-base-300 w-10 md:w-8 rounded-full">
              <span class="text-xs">{{ auth.userInitials() }}</span>
            </div>
          </div>
          }
        </div>
        <ul
          class="dropdown-content menu bg-base-200 rounded-box z-1 p-4 w-48 shadow-sm"
          tabindex="0"
        >
          @if ( auth.userAthleteId() ) {
          <li>
            <a>{{ "CF ID: " + auth.userAthleteId() }}</a>
          </li>
          }
          <li><a (click)="onClickSignOut()">Sign Out</a></li>
        </ul>
      </div>
      } @else {
      <div class="flex flex-row gap-2 mr-2">
        <button class="btn btn-outline btn-primary" routerLink="/auth/login">
          Login
        </button>
        <button class="btn btn-primary" routerLink="/auth/signup">
          Sign Up
        </button>
      </div>
      }
    </div>

    <ng-content></ng-content>
  </div>

  <div class="drawer-side">
    <label
      for="menu-drawer"
      aria-label="close sidebar"
      class="drawer-overlay"
    ></label>
    <ul class="menu bg-base-200 min-h-full w-80 p-4">
      <!-- Sidebar content -->
      <li><a routerLink="/home" routerLinkActive="menu-active">Home</a></li>
      <li>
        <a routerLink="/leaderboard" routerLinkActive="menu-active"
          >Leaderboard</a
        >
      </li>
      <li><a routerLink="/team" routerLinkActive="menu-active">Team</a></li>
      <li><a routerLink="/scores" routerLinkActive="menu-active">Scores</a></li>
      <!-- @if ( auth.userName() ) { -->
      <li>
        <a routerLink="/scheduling" routerLinkActive="menu-active"
          >Scheduling</a
        >
      </li>
      <!-- } -->
    </ul>
  </div>
</div>
